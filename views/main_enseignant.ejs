<%- include('./partials/header.ejs') %>
<body>
    <div class="container">
   
            <%- include('./partials/navbars/ens_navbar.ejs') %>
                 
        <section class="menu">
            <div class="dashbord">
                <div class="boxes">
                <div class="idbox">
                    <div class="boxicon">
                        <ion-icon name="document-outline"></ion-icon>
                    </div>
                    <div class="icontext">
                        <p class="number"><%=nb1%></p>
                        <p class="nameun"><%=text1%></p>
                    </div>
                </div>
                <div class="idbox">
                    <div class="boxicon">
                        <ion-icon name="browsers-outline"></ion-icon>
                    </div>
                    <div class="icontext">
                        <p class="number"><%=nb2%></p>
                        <p class="nameun two"><%=text2%></p>
                    </div>
                </div>
                <div class="idbox">
                    <div class="boxicon">
                        <ion-icon name="people-outline"></ion-icon>
                    </div>
                    <div class="icontext">
                        <p class="number"><%=nb3%></p>
                        <p class="nameun three">Enseignants</p>
                    </div>
                </div>
                <div class="idbox">
                    <div class="boxicon">
                        <ion-icon name="school-outline"></ion-icon>
                    </div>
                    <div class="icontext">
                        <p class="number"><%=nb4%></p>
                        <p class="nameun four"><%=text4%></p>
                    </div>
                </div>
            </div>
            <div class="charts">
                <div class="chart">
                    <canvas id="myChart"></canvas>
                </div>
                <div class="chart">
                    <canvas id="myChart2"></canvas>
                </div>
            </div>
            </div>
        </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
   <script>
       let labels = '<%=labels%>';
       let data = '<%=data%>';
       let labels_labels = labels.split(',');
       let data_data  = [];
       data = data.split(',');
       for(let index in data){
          data_data.push(parseInt(data[index]));
       }

       let labels_2 = '<%=labels_2%>';
       let data_2 = '<%=data_2%>';
       let labels_labels_2 = labels_2.split(',');
       data_2 = data_2.split(',');
       let data_data_2 = [];
       for(let index in data_2){
          data_data_2.push(parseInt(data_2[index]));
       }
       const ctx = document.getElementById('myChart').getContext('2d');
       const Mychart = new Chart(ctx, {
        type: 'pie',
        data:{
            labels: [
            labels_labels[0],
            labels_labels[1],
            labels_labels[2],
            ],
        datasets: [{
            label: 'My First Dataset',
            data: data_data,
            backgroundColor: [
            '#3DD984',
            '#1D6F42',
            '#113E25',
            ],
            hoverOffset: 4
        }]
        },
        options: {
                responsive: true,
                maintainAspectRatio: false,
            }
       });
       const ctx2 = document.getElementById('myChart2').getContext('2d');
       const Mychart2 = new Chart(ctx2, {
        type: 'doughnut',
        data:{
            labels: [
              labels_labels_2[0],
              labels_labels_2[1],
            ],
        datasets: [{
            label: 'My First Dataset',
            data: data_data_2,
            backgroundColor: [
            '#113E25',
            '#1D6F42',
            '#3DD984'
            ],
            hoverOffset: 4
        }]
        },
        options: {
                responsive: true,
                maintainAspectRatio: false,
            }
       });


   </script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap');
    </style>
</body>
</html>